<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saneamiento y Mantenimiento - El Rinc√≥n del Barril</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        header p {
            opacity: 0.9;
            font-size: 1rem;
        }

        .btn-home {
            position: absolute;
            top: 20px;
            left: 20px;
            background: white;
            color: #4CAF50;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .btn-home:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .tabs {
            display: flex;
            background: #f5f5f5;
            border-bottom: 2px solid #ddd;
            overflow-x: auto;
        }

        .tab {
            flex: 1;
            min-width: 150px;
            padding: 15px 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            background: transparent;
            font-size: 0.9rem;
            font-weight: 500;
            white-space: nowrap;
        }

        .tab:hover {
            background: #e0e0e0;
        }

        .tab.active {
            background: white;
            color: #4CAF50;
            border-bottom: 3px solid #4CAF50;
        }

        .tab-content {
            display: none;
            padding: 30px;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .btn-primary {
            background: #4CAF50;
            color: white;
        }

        .btn-primary:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
        }

        .btn-secondary {
            background: #2196F3;
            color: white;
        }

        .btn-secondary:hover {
            background: #1976D2;
        }

        .btn-danger {
            background: #f44336;
            color: white;
        }

        .btn-danger:hover {
            background: #d32f2f;
        }

        .btn-warning {
            background: #FF9800;
            color: white;
        }

        .btn-warning:hover {
            background: #F57C00;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        table thead {
            background: #4CAF50;
            color: white;
        }

        table th,
        table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
            font-size: 0.9rem;
        }

        table tbody tr:hover {
            background: #f5f5f5;
        }

        table tbody tr:last-child td {
            border-bottom: none;
        }

        .actions {
            display: flex;
            gap: 8px;
        }

        .actions button {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s ease;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
        }

        .card {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #4CAF50;
            margin-bottom: 20px;
        }

        .card h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .empty-state .icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .stat-card h3 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .stat-card p {
            opacity: 0.9;
            font-size: 0.9rem;
        }

        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .badge-success {
            background: #4CAF50;
            color: white;
        }

        .badge-warning {
            background: #FF9800;
            color: white;
        }

        .badge-danger {
            background: #f44336;
            color: white;
        }

        .badge-info {
            background: #2196F3;
            color: white;
        }

        @media (max-width: 768px) {
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }

            .tabs {
                flex-wrap: wrap;
            }

            .tab {
                flex: 1 1 50%;
            }

            table {
                font-size: 0.75rem;
            }

            table th,
            table td {
                padding: 8px;
            }

            .actions {
                flex-direction: column;
            }

            .btn-home {
                position: static;
                display: block;
                margin: 10px auto;
                width: fit-content;
            }

            header {
                padding: 20px;
                padding-top: 60px;
            }
        }

        .poes-section {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 5px solid #4CAF50;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .poes-section h3 {
            color: #4CAF50;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .poes-section h4 {
            color: #333;
            margin: 15px 0 10px 0;
            font-size: 1.1rem;
        }

        .poes-section ol, .poes-section ul {
            margin-left: 25px;
            line-height: 1.8;
        }

        .poes-section p {
            line-height: 1.7;
            color: #555;
            margin-bottom: 10px;
        }

        .poes-table {
            width: 100%;
            margin: 15px 0;
            border-collapse: collapse;
        }

        .poes-table th,
        .poes-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        .poes-table th {
            background: #f0f0f0;
            font-weight: 600;
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .alert-info {
            background: #E3F2FD;
            border-left: 4px solid #2196F3;
            color: #1565C0;
        }

        .alert-warning {
            background: #FFF3E0;
            border-left: 4px solid #FF9800;
            color: #E65100;
        }

        .alert-success {
            background: #E8F5E9;
            border-left: 4px solid #4CAF50;
            color: #2E7D32;
        }
    </style>
</head>
<body>
    <a href="index.html" class="btn-home">‚Üê Volver al Inicio</a>
    
    <div class="container">
        <header>
            <h1>üßº Saneamiento y Mantenimiento</h1>
            <p>Sistema de Gesti√≥n seg√∫n Resoluci√≥n 2674/2013 - INVIMA</p>
        </header>

        <div class="tabs">
            <button class="tab active" onclick="cambiarTab('poes')">üìñ POES</button>
            <button class="tab" onclick="cambiarTab('limpieza')">üßΩ Limpieza</button>
            <button class="tab" onclick="cambiarTab('mantenimiento')">‚öôÔ∏è Mantenimiento</button>
            <button class="tab" onclick="cambiarTab('plagas')">ü¶ü Control Plagas</button>
            <button class="tab" onclick="cambiarTab('residuos')">‚ôªÔ∏è Residuos</button>
            <button class="tab" onclick="cambiarTab('capacitacion')">üë• Capacitaci√≥n</button>
            <button class="tab" onclick="cambiarTab('registros')">üìã Registros</button>
        </div>

        <!-- TAB 1: POES -->
        <div id="tab-poes" class="tab-content active">
            <h2>üìñ PLAN POES - Procedimientos Operativos Estandarizados de Saneamiento</h2>
            
            <div class="alert alert-info">
                <strong>üìå Normatividad:</strong> Resoluci√≥n 2674 de 2013 - INVIMA. Establece los requisitos sanitarios que deben cumplir las personas naturales y/o jur√≠dicas que ejercen actividades de fabricaci√≥n, procesamiento, preparaci√≥n, envase, almacenamiento, transporte, distribuci√≥n y comercializaci√≥n de alimentos.
            </div>

            <div class="poes-section">
                <h3>1. LIMPIEZA Y DESINFECCI√ìN DE SUPERFICIES</h3>
                <p><strong>Objetivo:</strong> Mantener las superficies de contacto con alimentos libres de contaminaci√≥n.</p>
                <p><strong>Alcance:</strong> Todas las superficies de preparaci√≥n, mesas, tablas de cortar, mostradores.</p>
                <p><strong>Frecuencia:</strong> Despu√©s de cada preparaci√≥n y al finalizar el turno.</p>
                
                <h4>Procedimiento:</h4>
                <ol>
                    <li>Retirar residuos s√≥lidos con esp√°tula o cepillo</li>
                    <li>Lavar con agua caliente (50-60¬∞C) y detergente alcalino desengrasante</li>
                    <li>Frotar con esponja o pa√±o limpio</li>
                    <li>Enjuagar con agua potable abundante</li>
                    <li>Aplicar soluci√≥n desinfectante (hipoclorito de sodio 200 ppm)</li>
                    <li>Dejar actuar durante 5 minutos</li>
                    <li>Enjuagar con agua potable</li>
                    <li>Secar con pa√±o limpio o dejar secar al aire</li>
                </ol>

                <table class="poes-table">
                    <thead>
                        <tr>
                            <th>Producto</th>
                            <th>Concentraci√≥n</th>
                            <th>Tiempo de Contacto</th>
                            <th>Enjuague</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Detergente Alcalino</td>
                            <td>Seg√∫n fabricante (5-10 ml/L)</td>
                            <td>2-3 minutos</td>
                            <td>S√≠</td>
                        </tr>
                        <tr>
                            <td>Hipoclorito de Sodio</td>
                            <td>200 ppm (4 ml en 1L de agua)</td>
                            <td>5 minutos</td>
                            <td>S√≠</td>
                        </tr>
                    </tbody>
                </table>

                <p><strong>Responsable:</strong> Personal de cocina y manipuladores de alimentos</p>
                <p><strong>Verificaci√≥n:</strong> Supervisor de turno - Inspecci√≥n visual y prueba ATP</p>
            </div>

            <div class="poes-section">
                <h3>2. LIMPIEZA Y DESINFECCI√ìN DE EQUIPOS Y UTENSILIOS</h3>
                <p><strong>Objetivo:</strong> Garantizar que todos los equipos y utensilios est√©n en condiciones sanitarias √≥ptimas.</p>
                <p><strong>Alcance:</strong> Licuadoras, procesadores, cuchillos, ollas, sartenes, tablas, recipientes.</p>
                <p><strong>Frecuencia:</strong> Despu√©s de cada uso y al finalizar el turno.</p>
                
                <h4>Procedimiento:</h4>
                <ol>
                    <li>Desconectar equipos el√©ctricos y desarmar piezas removibles</li>
                    <li>Retirar residuos gruesos</li>
                    <li>Lavar con agua caliente y detergente</li>
                    <li>Cepillar √°reas de dif√≠cil acceso</li>
                    <li>Enjuagar completamente</li>
                    <li>Sumergir en soluci√≥n desinfectante (200 ppm) por 5 minutos</li>
                    <li>Enjuagar con agua potable</li>
                    <li>Escurrir y secar al aire en √°rea limpia</li>
                    <li>Almacenar en √°rea protegida del polvo y plagas</li>
                </ol>

                <p><strong>Nota Especial:</strong> Cuchillos y tablas de cortar deben sanitizarse con mayor frecuencia para evitar contaminaci√≥n cruzada.</p>
            </div>

            <div class="poes-section">
                <h3>3. LIMPIEZA DE PISOS Y PAREDES</h3>
                <p><strong>Frecuencia:</strong> Pisos: 3 veces al d√≠a m√≠nimo (ma√±ana, tarde, cierre). Paredes: Semanal.</p>
                
                <h4>Procedimiento Pisos:</h4>
                <ol>
                    <li>Barrer y recoger residuos s√≥lidos</li>
                    <li>Trapear con agua caliente y detergente desengrasante</li>
                    <li>Enjuagar con agua limpia</li>
                    <li>Aplicar desinfectante (hipoclorito 500 ppm en √°reas cr√≠ticas)</li>
                    <li>Dejar secar</li>
                </ol>

                <h4>Procedimiento Paredes:</h4>
                <ol>
                    <li>Quitar polvo y telara√±as</li>
                    <li>Lavar con esponja, agua caliente y detergente</li>
                    <li>Enjuagar con pa√±o h√∫medo</li>
                    <li>Aplicar desinfectante en √°reas cercanas a preparaci√≥n de alimentos</li>
                    <li>Secar con pa√±o limpio</li>
                </ol>
            </div>

            <div class="poes-section">
                <h3>4. LIMPIEZA DE √ÅREAS DE ALMACENAMIENTO</h3>
                <p><strong>Alcance:</strong> Refrigeradores, congeladores, bodegas, estanter√≠as.</p>
                <p><strong>Frecuencia:</strong> Semanal (refrigeradores y congeladores), Quincenal (bodegas).</p>
                
                <h4>Refrigeradores y Congeladores:</h4>
                <ol>
                    <li>Retirar todos los alimentos y ubicarlos en √°rea refrigerada temporal</li>
                    <li>Descongelar si hay escarcha (congeladores)</li>
                    <li>Retirar parrillas y cajones</li>
                    <li>Lavar con soluci√≥n de bicarbonato de sodio (1 cucharada por litro)</li>
                    <li>Enjuagar con pa√±o h√∫medo</li>
                    <li>Secar completamente</li>
                    <li>Verificar temperatura antes de devolver alimentos</li>
                </ol>

                <p><strong>Temperaturas de Almacenamiento:</strong></p>
                <ul>
                    <li>Refrigeraci√≥n: 0¬∞C a 4¬∞C</li>
                    <li>Congelaci√≥n: -18¬∞C o menos</li>
                    <li>Alimentos calientes (para servir): > 65¬∞C</li>
                </ul>
            </div>

            <div class="poes-section">
                <h3>5. MANEJO DE RESIDUOS S√ìLIDOS</h3>
                <p><strong>Objetivo:</strong> Garantizar la correcta clasificaci√≥n, almacenamiento y disposici√≥n final de residuos.</p>
                
                <h4>Clasificaci√≥n:</h4>
                <table class="poes-table">
                    <thead>
                        <tr>
                            <th>Tipo</th>
                            <th>Color Caneca</th>
                            <th>Contenido</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Org√°nicos</td>
                            <td>Verde</td>
                            <td>Restos de alimentos, c√°scaras, residuos vegetales</td>
                        </tr>
                        <tr>
                            <td>Reciclables</td>
                            <td>Gris/Blanco</td>
                            <td>Papel, cart√≥n, pl√°stico, vidrio, metal</td>
                        </tr>
                        <tr>
                            <td>No Reciclables</td>
                            <td>Negro</td>
                            <td>Residuos contaminados, servilletas usadas</td>
                        </tr>
                    </tbody>
                </table>

                <h4>Procedimiento de Manejo:</h4>
                <ol>
                    <li>Usar bolsas pl√°sticas resistentes seg√∫n tipo de residuo</li>
                    <li>No llenar m√°s del 75% de la capacidad</li>
                    <li>Cerrar y amarrar correctamente las bolsas</li>
                    <li>Evacuar residuos al finalizar cada turno</li>
                    <li>Lavar y desinfectar canecas diariamente</li>
                    <li>Almacenar en cuarto de basuras hasta recolecci√≥n</li>
                </ol>

                <p><strong>Frecuencia de Recolecci√≥n Interna:</strong> M√≠nimo 3 veces al d√≠a</p>
                <p><strong>Frecuencia de Recolecci√≥n Externa:</strong> Seg√∫n empresa de aseo municipal</p>
            </div>

            <div class="poes-section">
                <h3>6. CONTROL DE PLAGAS</h3>
                <p><strong>Objetivo:</strong> Prevenir y controlar la presencia de plagas (roedores, insectos, aves).</p>
                
                <h4>Medidas Preventivas:</h4>
                <ul>
                    <li>Mantener puertas y ventanas cerradas o con malla protectora</li>
                    <li>Sellar grietas y orificios en paredes, pisos y techos</li>
                    <li>Almacenar alimentos en recipientes cerrados</li>
                    <li>No dejar residuos de alimentos expuestos</li>
                    <li>Mantener √°reas limpias y sin humedad</li>
                    <li>Inspecci√≥n diaria de √°reas cr√≠ticas</li>
                </ul>

                <h4>Control Qu√≠mico:</h4>
                <p><strong>Empresa:</strong> Debe ser empresa certificada con registro INVIMA</p>
                <p><strong>Frecuencia:</strong> Mensual (o seg√∫n cronograma de empresa certificada)</p>
                <p><strong>Productos:</strong> Solo productos autorizados por INVIMA</p>
                <p><strong>Certificaci√≥n:</strong> Exigir certificado despu√©s de cada aplicaci√≥n</p>
                
                <div class="alert alert-warning">
                    <strong>‚ö†Ô∏è Importante:</strong> Durante la fumigaci√≥n, el √°rea debe estar libre de alimentos y personal. Ventilar adecuadamente antes de reiniciar operaciones.
                </div>
            </div>

            <div class="poes-section">
                <h3>7. HIGIENE DEL PERSONAL</h3>
                <p><strong>Objetivo:</strong> Garantizar que el personal manipulador de alimentos cumpla con pr√°cticas higi√©nicas adecuadas.</p>
                
                <h4>Requisitos de Higiene Personal:</h4>
                <ul>
                    <li><strong>Uniforme:</strong> Completo, limpio, de color claro</li>
                    <li><strong>Gorro o cofia:</strong> Que cubra completamente el cabello</li>
                    <li><strong>Delantal:</strong> Limpio y en buen estado</li>
                    <li><strong>Zapatos:</strong> Cerrados, antideslizantes, limpios</li>
                    <li><strong>U√±as:</strong> Cortas, limpias, sin esmalte</li>
                    <li><strong>Joyas:</strong> No se permiten (excepto argolla matrimonial lisa)</li>
                    <li><strong>Maquillaje:</strong> M√≠nimo o sin maquillaje</li>
                    <li><strong>Barba y bigote:</strong> Bien recortados o usar cubrebocas</li>
                </ul>

                <h4>Lavado de Manos (Obligatorio):</h4>
                <ol>
                    <li>Al llegar al trabajo</li>
                    <li>Antes de manipular alimentos</li>
                    <li>Despu√©s de ir al ba√±o</li>
                    <li>Despu√©s de manipular basura</li>
                    <li>Despu√©s de tocar superficies sucias</li>
                    <li>Despu√©s de tocar dinero</li>
                    <li>Al cambiar de actividad (carnes crudas ‚Üí verduras)</li>
                </ol>

                <h4>Procedimiento de Lavado de Manos:</h4>
                <ol>
                    <li>Mojar las manos con agua corriente</li>
                    <li>Aplicar jab√≥n antibacterial</li>
                    <li>Frotar palmas, dorso, entre dedos, bajo u√±as (20 segundos)</li>
                    <li>Enjuagar completamente</li>
                    <li>Secar con toalla desechable</li>
                    <li>Cerrar llave con la misma toalla</li>
                </ol>

                <div class="alert alert-danger" style="background: #FFEBEE; border-left: 4px solid #f44336; color: #C62828;">
                    <strong>üö´ Prohibido:</strong> Fumar, comer, masticar chicle, escupir, rascarse, tocar dinero mientras manipula alimentos.
                </div>
            </div>

            <div class="poes-section">
                <h3>8. CALIDAD DEL AGUA</h3>
                <p><strong>Objetivo:</strong> Asegurar que el agua utilizada sea potable y apta para preparaci√≥n de alimentos.</p>
                
                <h4>Requisitos:</h4>
                <ul>
                    <li>Agua potable suministrada por acueducto o fuente certificada</li>
                    <li>Tanques de almacenamiento limpios y con tapa</li>
                    <li>Limpieza de tanques: Cada 6 meses (con certificado)</li>
                    <li>An√°lisis f√≠sico-qu√≠mico y microbiol√≥gico: Anual</li>
                </ul>

                <h4>Par√°metros de Calidad (seg√∫n Resoluci√≥n 2115/2007):</h4>
                <table class="poes-table">
                    <thead>
                        <tr>
                            <th>Par√°metro</th>
                            <th>Valor Aceptable</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Coliformes Totales</td>
                            <td>0 UFC/100 ml</td>
                        </tr>
                        <tr>
                            <td>E. coli</td>
                            <td>0 UFC/100 ml</td>
                        </tr>
                        <tr>
                            <td>Cloro Residual</td>
                            <td>0.3 - 2.0 mg/L</td>
                        </tr>
                        <tr>
                            <td>pH</td>
                            <td>6.5 - 9.0</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="alert alert-success">
                <strong>‚úÖ Recomendaci√≥n:</strong> Imprimir este POES y mantenerlo disponible para consulta del personal y para inspecciones de autoridades sanitarias.
            </div>
        </div>

        <!-- TAB 2: LIMPIEZA Y DESINFECCI√ìN -->
        <div id="tab-limpieza" class="tab-content">
            <h2>üßΩ Programa de Limpieza y Desinfecci√≥n</h2>
            
            <div class="stats">
                <div class="stat-card">
                    <h3 id="stat-productos-quimicos">0</h3>
                    <p>Productos Qu√≠micos</p>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                    <h3 id="stat-cronogramas">0</h3>
                    <p>Cronogramas Activos</p>
                </div>
            </div>

            <div class="card">
                <h3>‚ûï Registrar Producto Qu√≠mico</h3>
                <form id="form-producto-quimico">
                    <div class="grid-3">
                        <div class="form-group">
                            <label>Nombre del Producto *</label>
                            <input type="text" id="nombre-producto" required placeholder="Ej: Detergente Alcalino">
                        </div>
                        <div class="form-group">
                            <label>Tipo *</label>
                            <select id="tipo-producto" required>
                                <option value="">Seleccionar</option>
                                <option value="Detergente">Detergente</option>
                                <option value="Desinfectante">Desinfectante</option>
                                <option value="Desengrasante">Desengrasante</option>
                                <option value="Sanitizante">Sanitizante</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Concentraci√≥n de Uso</label>
                            <input type="text" id="concentracion-producto" placeholder="Ej: 5 ml/L">
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Tiempo de Contacto</label>
                            <input type="text" id="tiempo-contacto" placeholder="Ej: 5 minutos">
                        </div>
                        <div class="form-group">
                            <label>Proveedor</label>
                            <input type="text" id="proveedor-producto" placeholder="Nombre del proveedor">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Observaciones / Precauciones</label>
                        <textarea id="observaciones-producto" placeholder="Precauciones de uso, almacenamiento, etc."></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">üíæ Guardar Producto</button>
                    <button type="button" class="btn btn-secondary" onclick="document.getElementById('form-producto-quimico').reset()">üîÑ Limpiar</button>
                </form>
            </div>

            <div style="margin-top: 30px;">
                <h3>üìã Productos Qu√≠micos Registrados</h3>
                <button class="btn btn-secondary" onclick="exportarProductosQuimicos()">üì• Exportar Excel</button>
                <div id="tabla-productos-quimicos"></div>
            </div>

            <div style="margin-top: 40px;" class="card">
                <h3>üìÖ Cronograma de Limpieza</h3>
                <p style="margin-bottom: 20px; color: #666;">Programaci√≥n de actividades de limpieza seg√∫n frecuencia establecida en POES</p>
                
                <form id="form-cronograma">
                    <div class="grid-2">
                        <div class="form-group">
                            <label>√Årea *</label>
                            <select id="area-cronograma" required>
                                <option value="">Seleccionar</option>
                                <option value="Cocina">Cocina</option>
                                <option value="Bar">Bar</option>
                                <option value="Sal√≥n">Sal√≥n</option>
                                <option value="Ba√±os">Ba√±os</option>
                                <option value="Almac√©n">Almac√©n</option>
                                <option value="√Åreas Comunes">√Åreas Comunes</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Superficie/Equipo *</label>
                            <input type="text" id="superficie-cronograma" required placeholder="Ej: Mesas de preparaci√≥n">
                        </div>
                    </div>
                    <div class="grid-3">
                        <div class="form-group">
                            <label>Frecuencia *</label>
                            <select id="frecuencia-cronograma" required>
                                <option value="">Seleccionar</option>
                                <option value="Diaria">Diaria</option>
                                <option value="Inter-diaria">Inter-diaria</option>
                                <option value="Semanal">Semanal</option>
                                <option value="Quincenal">Quincenal</option>
                                <option value="Mensual">Mensual</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Responsable *</label>
                            <input type="text" id="responsable-cronograma" required placeholder="Nombre del responsable">
                        </div>
                        <div class="form-group">
                            <label>Hora Programada</label>
                            <input type="time" id="hora-cronograma">
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">üíæ Agregar al Cronograma</button>
                </form>
            </div>

            <div style="margin-top: 30px;">
                <h3>üìã Cronograma Actual</h3>
                <button class="btn btn-secondary" onclick="exportarCronograma()">üì• Exportar Excel</button>
                <div id="tabla-cronograma"></div>
            </div>
        </div>

        <!-- TAB 3: MANTENIMIENTO -->
        <div id="tab-mantenimiento" class="tab-content">
            <h2>‚öôÔ∏è Programa de Mantenimiento de Equipos</h2>
            
            <div class="stats">
                <div class="stat-card">
                    <h3 id="stat-equipos">0</h3>
                    <p>Equipos Registrados</p>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                    <h3 id="stat-mantenimientos">0</h3>
                    <p>Mantenimientos Este Mes</p>
                </div>
            </div>

            <div class="card">
                <h3>‚ûï Registrar Equipo</h3>
                <form id="form-equipo">
                    <div class="grid-3">
                        <div class="form-group">
                            <label>Nombre del Equipo *</label>
                            <input type="text" id="nombre-equipo" required placeholder="Ej: Refrigerador Haceb">
                        </div>
                        <div class="form-group">
                            <label>C√≥digo/Serie</label>
                            <input type="text" id="codigo-equipo" placeholder="N√∫mero de serie">
                        </div>
                        <div class="form-group">
                            <label>Ubicaci√≥n *</label>
                            <select id="ubicacion-equipo" required>
                                <option value="">Seleccionar</option>
                                <option value="Cocina">Cocina</option>
                                <option value="Bar">Bar</option>
                                <option value="Almac√©n">Almac√©n</option>
                                <option value="Sal√≥n">Sal√≥n</option>
                            </select>
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Frecuencia de Mantenimiento Preventivo *</label>
                            <select id="frecuencia-mantenimiento" required>
                                <option value="">Seleccionar</option>
                                <option value="Mensual">Mensual</option>
                                <option value="Trimestral">Trimestral</option>
                                <option value="Semestral">Semestral</option>
                                <option value="Anual">Anual</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Fecha √öltimo Mantenimiento</label>
                            <input type="date" id="fecha-ultimo-mantenimiento">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Observaciones</label>
                        <textarea id="observaciones-equipo" placeholder="Marca, modelo, especificaciones t√©cnicas..."></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">üíæ Guardar Equipo</button>
                    <button type="button" class="btn btn-secondary" onclick="document.getElementById('form-equipo').reset()">üîÑ Limpiar</button>
                </form>
            </div>

            <div style="margin-top: 30px;">
                <h3>üìã Equipos Registrados</h3>
                <button class="btn btn-secondary" onclick="exportarEquipos()">üì• Exportar Excel</button>
                <div id="tabla-equipos"></div>
            </div>

            <div style="margin-top: 40px;" class="card">
                <h3>üîß Registrar Mantenimiento</h3>
                <form id="form-registro-mantenimiento">
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Equipo *</label>
                            <select id="equipo-mantenimiento" required>
                                <option value="">Seleccionar equipo</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Fecha *</label>
                            <input type="date" id="fecha-mantenimiento" required>
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Tipo de Mantenimiento *</label>
                            <select id="tipo-mantenimiento" required>
                                <option value="">Seleccionar</option>
                                <option value="Preventivo">Preventivo</option>
                                <option value="Correctivo">Correctivo</option>
                                <option value="Calibraci√≥n">Calibraci√≥n</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Ejecutado Por *</label>
                            <input type="text" id="ejecutor-mantenimiento" required placeholder="T√©cnico o empresa">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Actividades Realizadas *</label>
                        <textarea id="actividades-mantenimiento" required placeholder="Detalle de las actividades de mantenimiento realizadas..."></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">üíæ Guardar Mantenimiento</button>
                </form>
            </div>

            <div style="margin-top: 30px;">
                <h3>üìã Historial de Mantenimientos</h3>
                <button class="btn btn-secondary" onclick="exportarMantenimientos()">üì• Exportar Excel</button>
                <div id="tabla-mantenimientos"></div>
            </div>
        </div>

        <!-- TAB 4: CONTROL DE PLAGAS -->
        <div id="tab-plagas" class="tab-content">
            <h2>ü¶ü Programa de Control Integrado de Plagas</h2>
            
            <div class="alert alert-info">
                <strong>üìå Importante:</strong> El control de plagas debe ser realizado por empresa certificada con registro INVIMA. Mantener certificados de fumigaci√≥n disponibles para inspecci√≥n.
            </div>

            <div class="stats">
                <div class="stat-card">
                    <h3 id="stat-fumigaciones">0</h3>
                    <p>Fumigaciones Realizadas</p>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                    <h3 id="stat-proxima-fumigacion">-</h3>
                    <p>Pr√≥xima Fumigaci√≥n</p>
                </div>
            </div>

            <div class="card">
                <h3>üè¢ Empresa de Fumigaci√≥n</h3>
                <form id="form-empresa-fumigacion">
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Nombre de la Empresa *</label>
                            <input type="text" id="nombre-empresa-fumigacion" required placeholder="Raz√≥n social">
                        </div>
                        <div class="form-group">
                            <label>Contacto</label>
                            <input type="text" id="contacto-empresa" placeholder="Tel√©fono o email">
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Registro INVIMA</label>
                            <input type="text" id="registro-invima" placeholder="N√∫mero de registro">
                        </div>
                        <div class="form-group">
                            <label>Frecuencia Contratada *</label>
                            <select id="frecuencia-fumigacion" required>
                                <option value="">Seleccionar</option>
                                <option value="Mensual">Mensual</option>
                                <option value="Bimestral">Bimestral</option>
                                <option value="Trimestral">Trimestral</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">üíæ Guardar Empresa</button>
                </form>
            </div>

            <div style="margin-top: 30px;" class="card">
                <h3>üìÖ Registrar Fumigaci√≥n</h3>
                <form id="form-fumigacion">
                    <div class="grid-3">
                        <div class="form-group">
                            <label>Fecha de Fumigaci√≥n *</label>
                            <input type="date" id="fecha-fumigacion" required>
                        </div>
                        <div class="form-group">
                            <label>Tipo de Plaga *</label>
                            <select id="tipo-plaga" required>
                                <option value="">Seleccionar</option>
                                <option value="Roedores">Roedores</option>
                                <option value="Insectos Rastreros">Insectos Rastreros</option>
                                <option value="Insectos Voladores">Insectos Voladores</option>
                                <option value="General">General (Todas)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>T√©cnico Responsable *</label>
                            <input type="text" id="tecnico-fumigacion" required placeholder="Nombre del t√©cnico">
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Producto Utilizado</label>
                            <input type="text" id="producto-fumigacion" placeholder="Nombre del producto qu√≠mico">
                        </div>
                        <div class="form-group">
                            <label>N√∫mero de Certificado</label>
                            <input type="text" id="certificado-fumigacion" placeholder="# del certificado emitido">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Observaciones</label>
                        <textarea id="observaciones-fumigacion" placeholder="√Åreas tratadas, hallazgos, recomendaciones..."></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">üíæ Guardar Fumigaci√≥n</button>
                </form>
            </div>

            <div style="margin-top: 30px;">
                <h3>üìã Historial de Fumigaciones</h3>
                <button class="btn btn-secondary" onclick="exportarFumigaciones()">üì• Exportar Excel</button>
                <div id="tabla-fumigaciones"></div>
            </div>
        </div>

        <!-- TAB 5: RESIDUOS -->
        <div id="tab-residuos" class="tab-content">
            <h2>‚ôªÔ∏è Programa de Manejo de Residuos S√≥lidos</h2>
            
            <div class="poes-section">
                <h3>Clasificaci√≥n de Residuos</h3>
                <table class="poes-table">
                    <thead>
                        <tr>
                            <th>Tipo de Residuo</th>
                            <th>Color de Caneca</th>
                            <th>Contenido</th>
                            <th>Disposici√≥n</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Org√°nicos</strong></td>
                            <td style="background: #4CAF50; color: white;">Verde</td>
                            <td>Restos de alimentos, c√°scaras, residuos vegetales</td>
                            <td>Recolecci√≥n empresa de aseo</td>
                        </tr>
                        <tr>
                            <td><strong>Reciclables</strong></td>
                            <td style="background: #9E9E9E; color: white;">Gris/Blanco</td>
                            <td>Papel, cart√≥n, pl√°stico, vidrio, metal</td>
                            <td>Recicladores o punto limpio</td>
                        </tr>
                        <tr>
                            <td><strong>No Reciclables</strong></td>
                            <td style="background: #212121; color: white;">Negro</td>
                            <td>Servilletas usadas, empaques contaminados</td>
                            <td>Recolecci√≥n empresa de aseo</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="card">
                <h3>üìä Registro de Generaci√≥n de Residuos</h3>
                <form id="form-residuos">
                    <div class="grid-3">
                        <div class="form-group">
                            <label>Fecha *</label>
                            <input type="date" id="fecha-residuos" required>
                        </div>
                        <div class="form-group">
                            <label>Tipo de Residuo *</label>
                            <select id="tipo-residuo" required>
                                <option value="">Seleccionar</option>
                                <option value="Org√°nicos">Org√°nicos</option>
                                <option value="Reciclables">Reciclables</option>
                                <option value="No Reciclables">No Reciclables</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Cantidad Aprox. (kg) *</label>
                            <input type="number" step="0.1" id="cantidad-residuos" required placeholder="Ej: 5.5">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Responsable del Registro *</label>
                        <input type="text" id="responsable-residuos" required placeholder="Nombre">
                    </div>
                    <div class="form-group">
                        <label>Observaciones</label>
                        <textarea id="observaciones-residuos" placeholder="Notas adicionales..."></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">üíæ Guardar Registro</button>
                </form>
            </div>

            <div style="margin-top: 30px;">
                <h3>üìã Historial de Residuos</h3>
                <button class="btn btn-secondary" onclick="exportarResiduos()">üì• Exportar Excel</button>
                <div id="tabla-residuos"></div>
            </div>

            <div style="margin-top: 30px;" class="poes-section">
                <h3>üìã Buenas Pr√°cticas de Manejo</h3>
                <ul>
                    <li>Ubicar canecas en puntos estrat√©gicos con se√±alizaci√≥n clara</li>
                    <li>Usar bolsas resistentes de colores seg√∫n clasificaci√≥n</li>
                    <li>No llenar las bolsas m√°s del 75% de su capacidad</li>
                    <li>Cerrar y amarrar correctamente las bolsas antes de evacuarlas</li>
                    <li>Evacuar residuos al finalizar cada turno (m√≠nimo 3 veces al d√≠a)</li>
                    <li>Lavar y desinfectar canecas diariamente</li>
                    <li>Mantener el cuarto de basuras limpio, sin derrames</li>
                    <li>Coordinar horarios de recolecci√≥n con empresa de aseo</li>
                </ul>
            </div>
        </div>

        <!-- TAB 6: CAPACITACI√ìN -->
        <div id="tab-capacitacion" class="tab-content">
            <h2>üë• Programa de Capacitaci√≥n en BPM y Saneamiento</h2>
            
            <div class="alert alert-info">
                <strong>üìå Requisito Legal:</strong> Todo manipulador de alimentos debe recibir capacitaci√≥n m√≠nima anual en Buenas Pr√°cticas de Manufactura (BPM) seg√∫n Resoluci√≥n 2674/2013.
            </div>

            <div class="stats">
                <div class="stat-card">
                    <h3 id="stat-capacitaciones">0</h3>
                    <p>Capacitaciones Realizadas</p>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #f857a6 0%, #ff5858 100%);">
                    <h3 id="stat-personal-capacitado">0</h3>
                    <p>Personal Capacitado</p>
                </div>
            </div>

            <div class="card">
                <h3>üìÖ Registrar Capacitaci√≥n</h3>
                <form id="form-capacitacion">
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Fecha de Capacitaci√≥n *</label>
                            <input type="date" id="fecha-capacitacion" required>
                        </div>
                        <div class="form-group">
                            <label>Tema *</label>
                            <select id="tema-capacitacion" required>
                                <option value="">Seleccionar</option>
                                <option value="Buenas Pr√°cticas de Manufactura (BPM)">Buenas Pr√°cticas de Manufactura (BPM)</option>
                                <option value="Manipulaci√≥n Higi√©nica de Alimentos">Manipulaci√≥n Higi√©nica de Alimentos</option>
                                <option value="Procedimientos de Limpieza y Desinfecci√≥n">Procedimientos de Limpieza y Desinfecci√≥n</option>
                                <option value="Prevenci√≥n de Contaminaci√≥n Cruzada">Prevenci√≥n de Contaminaci√≥n Cruzada</option>
                                <option value="Control de Plagas">Control de Plagas</option>
                                <option value="Manejo de Residuos">Manejo de Residuos</option>
                                <option value="Enfermedades Transmitidas por Alimentos (ETA)">Enfermedades Transmitidas por Alimentos (ETA)</option>
                            </select>
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Capacitador/Instructor *</label>
                            <input type="text" id="capacitador" required placeholder="Nombre del instructor">
                        </div>
                        <div class="form-group">
                            <label>Duraci√≥n (horas)</label>
                            <input type="number" step="0.5" id="duracion-capacitacion" placeholder="Ej: 2">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Asistentes (separar por comas) *</label>
                        <textarea id="asistentes-capacitacion" required placeholder="Ej: Juan P√©rez, Mar√≠a Garc√≠a, Pedro Rodr√≠guez"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Observaciones / Temas Espec√≠ficos Tratados</label>
                        <textarea id="observaciones-capacitacion" placeholder="Detalles adicionales de la capacitaci√≥n..."></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">üíæ Guardar Capacitaci√≥n</button>
                </form>
            </div>

            <div style="margin-top: 30px;">
                <h3>üìã Historial de Capacitaciones</h3>
                <button class="btn btn-secondary" onclick="exportarCapacitaciones()">üì• Exportar Excel</button>
                <div id="tabla-capacitaciones"></div>
            </div>

            <div style="margin-top: 30px;" class="poes-section">
                <h3>üìö Temas Obligatorios de Capacitaci√≥n</h3>
                <ul>
                    <li><strong>Buenas Pr√°cticas de Manufactura (BPM):</strong> Requisitos generales, higiene personal, comportamiento</li>
                    <li><strong>Manipulaci√≥n Higi√©nica:</strong> T√©cnicas de lavado de manos, contaminaci√≥n cruzada</li>
                    <li><strong>Limpieza y Desinfecci√≥n:</strong> Productos, diluciones, procedimientos</li>
                    <li><strong>Temperaturas de Seguridad:</strong> Cocci√≥n, refrigeraci√≥n, congelaci√≥n</li>
                    <li><strong>Enfermedades Transmitidas por Alimentos:</strong> S√≠ntomas, prevenci√≥n</li>
                    <li><strong>Almacenamiento Seguro:</strong> PEPS, rotaci√≥n, temperaturas</li>
                    <li><strong>Manejo de Residuos:</strong> Clasificaci√≥n, disposici√≥n</li>
                </ul>
                
                <p style="margin-top: 20px;"><strong>Frecuencia Recomendada:</strong> Capacitaciones cada 6 meses como m√≠nimo</p>
            </div>
        </div>

        <!-- TAB 7: REGISTROS -->
        <div id="tab-registros" class="tab-content">
            <h2>üìã Registros y Formatos</h2>
            
            <div class="alert alert-info">
                <strong>üìå Documentaci√≥n Obligatoria:</strong> Mantener registros actualizados es requisito legal. Los registros deben estar disponibles para inspecci√≥n de autoridades sanitarias.
            </div>

            <div class="grid-2" style="margin-top: 30px;">
                <div class="card">
                    <h3>üìä Resumen de Registros</h3>
                    <table class="poes-table" style="margin-top: 15px;">
                        <tbody>
                            <tr>
                                <td><strong>Productos Qu√≠micos:</strong></td>
                                <td id="resumen-productos">0</td>
                            </tr>
                            <tr>
                                <td><strong>Cronogramas de Limpieza:</strong></td>
                                <td id="resumen-cronogramas">0</td>
                            </tr>
                            <tr>
                                <td><strong>Equipos Registrados:</strong></td>
                                <td id="resumen-equipos">0</td>
                            </tr>
                            <tr>
                                <td><strong>Mantenimientos:</strong></td>
                                <td id="resumen-mantenimientos">0</td>
                            </tr>
                            <tr>
                                <td><strong>Fumigaciones:</strong></td>
                                <td id="resumen-fumigaciones">0</td>
                            </tr>
                            <tr>
                                <td><strong>Registros de Residuos:</strong></td>
                                <td id="resumen-residuos">0</td>
                            </tr>
                            <tr>
                                <td><strong>Capacitaciones:</strong></td>
                                <td id="resumen-capacitaciones">0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h3>üì• Exportaciones Disponibles</h3>
                    <p style="margin-bottom: 15px; color: #666;">Descarga todos los registros en formato Excel para auditor√≠as</p>
                    <button class="btn btn-primary" style="width: 100%; margin-bottom: 10px;" onclick="exportarTodoCompleto()">üìä Exportar TODO (Completo)</button>
                    <button class="btn btn-secondary" style="width: 100%; margin-bottom: 10px;" onclick="exportarProductosQuimicos()">üß¥ Productos Qu√≠micos</button>
                    <button class="btn btn-secondary" style="width: 100%; margin-bottom: 10px;" onclick="exportarCronograma()">üìÖ Cronograma Limpieza</button>
                    <button class="btn btn-secondary" style="width: 100%; margin-bottom: 10px;" onclick="exportarEquipos()">‚öôÔ∏è Equipos</button>
                    <button class="btn btn-secondary" style="width: 100%; margin-bottom: 10px;" onclick="exportarMantenimientos()">üîß Mantenimientos</button>
                    <button class="btn btn-secondary" style="width: 100%; margin-bottom: 10px;" onclick="exportarFumigaciones()">ü¶ü Fumigaciones</button>
                    <button class="btn btn-secondary" style="width: 100%; margin-bottom: 10px;" onclick="exportarResiduos()">‚ôªÔ∏è Residuos</button>
                    <button class="btn btn-secondary" style="width: 100%;" onclick="exportarCapacitaciones()">üë• Capacitaciones</button>
                </div>
            </div>

            <div style="margin-top: 30px;" class="poes-section">
                <h3>üìÑ Formatos Requeridos por INVIMA</h3>
                <p>Los siguientes formatos deben mantenerse actualizados:</p>
                <ol>
                    <li><strong>Formato de Limpieza y Desinfecci√≥n:</strong> Diario</li>
                    <li><strong>Formato de Temperaturas:</strong> Refrigeradores y congeladores (diario)</li>
                    <li><strong>Formato de Recepci√≥n de Materia Prima:</strong> Cada recepci√≥n</li>
                    <li><strong>Formato de Control de Plagas:</strong> Cada fumigaci√≥n</li>
                    <li><strong>Formato de Mantenimiento de Equipos:</strong> Seg√∫n cronograma</li>
                    <li><strong>Formato de Capacitaciones:</strong> Con listado de asistencia</li>
                    <li><strong>Formato de Residuos S√≥lidos:</strong> Semanal</li>
                    <li><strong>Formato de No Conformidades:</strong> Cuando aplique</li>
                </ol>
            </div>

            <div style="margin-top: 30px;" class="alert alert-success">
                <strong>‚úÖ Sistema Completo:</strong> Este sistema te ayuda a mantener todos los registros organizados y disponibles para auditor√≠as INVIMA, certificaciones sanitarias y cumplimiento de la Resoluci√≥n 2674/2013.
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // VARIABLES GLOBALES
        // ============================================
        let productosQuimicos = [];
        let cronogramasLimpieza = [];
        let equipos = [];
        let mantenimientos = [];
        let fumigaciones = [];
        let residuos = [];
        let capacitaciones = [];

        // ============================================
        // INICIALIZACI√ìN
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            cargarDatos();
            actualizarEstadisticas();
            renderizarTodo();
            
            // Event listeners
            document.getElementById('form-producto-quimico').addEventListener('submit', guardarProductoQuimico);
            document.getElementById('form-cronograma').addEventListener('submit', guardarCronograma);
            document.getElementById('form-equipo').addEventListener('submit', guardarEquipo);
            document.getElementById('form-registro-mantenimiento').addEventListener('submit', guardarMantenimiento);
            document.getElementById('form-fumigacion').addEventListener('submit', guardarFumigacion);
            document.getElementById('form-residuos').addEventListener('submit', guardarResiduos);
            document.getElementById('form-capacitacion').addEventListener('submit', guardarCapacitacion);
            
            // Fechas actuales
            document.getElementById('fecha-mantenimiento').valueAsDate = new Date();
            document.getElementById('fecha-fumigacion').valueAsDate = new Date();
            document.getElementById('fecha-residuos').valueAsDate = new Date();
            document.getElementById('fecha-capacitacion').valueAsDate = new Date();
        });

        // ============================================
        // GESTI√ìN DE TABS
        // ============================================
        function cambiarTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            document.getElementById(`tab-${tabId}`).classList.add('active');
            event.target.classList.add('active');
        }

        // ============================================
        // GESTI√ìN DE DATOS
        // ============================================
        function cargarDatos() {
            productosQuimicos = JSON.parse(localStorage.getItem('saneamiento_productos_quimicos') || '[]');
            cronogramasLimpieza = JSON.parse(localStorage.getItem('saneamiento_cronogramas') || '[]');
            equipos = JSON.parse(localStorage.getItem('saneamiento_equipos') || '[]');
            mantenimientos = JSON.parse(localStorage.getItem('saneamiento_mantenimientos') || '[]');
            fumigaciones = JSON.parse(localStorage.getItem('saneamiento_fumigaciones') || '[]');
            residuos = JSON.parse(localStorage.getItem('saneamiento_residuos') || '[]');
            capacitaciones = JSON.parse(localStorage.getItem('saneamiento_capacitaciones') || '[]');
        }

        function guardarEnStorage() {
            localStorage.setItem('saneamiento_productos_quimicos', JSON.stringify(productosQuimicos));
            localStorage.setItem('saneamiento_cronogramas', JSON.stringify(cronogramasLimpieza));
            localStorage.setItem('saneamiento_equipos', JSON.stringify(equipos));
            localStorage.setItem('saneamiento_mantenimientos', JSON.stringify(mantenimientos));
            localStorage.setItem('saneamiento_fumigaciones', JSON.stringify(fumigaciones));
            localStorage.setItem('saneamiento_residuos', JSON.stringify(residuos));
            localStorage.setItem('saneamiento_capacitaciones', JSON.stringify(capacitaciones));
        }

        // ============================================
        // PRODUCTOS QU√çMICOS
        // ============================================
        function guardarProductoQuimico(e) {
            e.preventDefault();
            
            const nuevo = {
                id: Date.now(),
                nombre: document.getElementById('nombre-producto').value,
                tipo: document.getElementById('tipo-producto').value,
                concentracion: document.getElementById('concentracion-producto').value,
                tiempoContacto: document.getElementById('tiempo-contacto').value,
                proveedor: document.getElementById('proveedor-producto').value,
                observaciones: document.getElementById('observaciones-producto').value
            };

            productosQuimicos.push(nuevo);
            guardarEnStorage();
            document.getElementById('form-producto-quimico').reset();
            renderizarProductosQuimicos();
            actualizarEstadisticas();
            alert('‚úÖ Producto qu√≠mico guardado');
        }

        function renderizarProductosQuimicos() {
            const contenedor = document.getElementById('tabla-productos-quimicos');
            
            if (productosQuimicos.length === 0) {
                contenedor.innerHTML = '<div class="empty-state"><div class="icon">üß¥</div><p>No hay productos qu√≠micos registrados</p></div>';
                return;
            }

            let html = '<table><thead><tr><th>Nombre</th><th>Tipo</th><th>Concentraci√≥n</th><th>Tiempo Contacto</th><th>Proveedor</th><th>Acciones</th></tr></thead><tbody>';
            
            productosQuimicos.forEach(p => {
                html += `<tr>
                    <td>${p.nombre}</td>
                    <td><span class="badge badge-info">${p.tipo}</span></td>
                    <td>${p.concentracion || 'N/A'}</td>
                    <td>${p.tiempoContacto || 'N/A'}</td>
                    <td>${p.proveedor || 'N/A'}</td>
                    <td><button class="btn-delete" onclick="eliminarProductoQuimico(${p.id})">üóëÔ∏è</button></td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            contenedor.innerHTML = html;
        }

        function eliminarProductoQuimico(id) {
            if (!confirm('¬øEliminar este producto?')) return;
            productosQuimicos = productosQuimicos.filter(p => p.id !== id);
            guardarEnStorage();
            renderizarProductosQuimicos();
            actualizarEstadisticas();
        }

        // ============================================
        // CRONOGRAMAS
        // ============================================
        function guardarCronograma(e) {
            e.preventDefault();
            
            const nuevo = {
                id: Date.now(),
                area: document.getElementById('area-cronograma').value,
                superficie: document.getElementById('superficie-cronograma').value,
                frecuencia: document.getElementById('frecuencia-cronograma').value,
                responsable: document.getElementById('responsable-cronograma').value,
                hora: document.getElementById('hora-cronograma').value
            };

            cronogramasLimpieza.push(nuevo);
            guardarEnStorage();
            document.getElementById('form-cronograma').reset();
            renderizarCronogramas();
            actualizarEstadisticas();
            alert('‚úÖ Cronograma agregado');
        }

        function renderizarCronogramas() {
            const contenedor = document.getElementById('tabla-cronograma');
            
            if (cronogramasLimpieza.length === 0) {
                contenedor.innerHTML = '<div class="empty-state"><div class="icon">üìÖ</div><p>No hay cronogramas registrados</p></div>';
                return;
            }

            let html = '<table><thead><tr><th>√Årea</th><th>Superficie/Equipo</th><th>Frecuencia</th><th>Responsable</th><th>Hora</th><th>Acciones</th></tr></thead><tbody>';
            
            cronogramasLimpieza.forEach(c => {
                html += `<tr>
                    <td><span class="badge badge-success">${c.area}</span></td>
                    <td>${c.superficie}</td>
                    <td><span class="badge badge-warning">${c.frecuencia}</span></td>
                    <td>${c.responsable}</td>
                    <td>${c.hora || 'N/A'}</td>
                    <td><button class="btn-delete" onclick="eliminarCronograma(${c.id})">üóëÔ∏è</button></td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            contenedor.innerHTML = html;
        }

        function eliminarCronograma(id) {
            if (!confirm('¬øEliminar este cronograma?')) return;
            cronogramasLimpieza = cronogramasLimpieza.filter(c => c.id !== id);
            guardarEnStorage();
            renderizarCronogramas();
            actualizarEstadisticas();
        }

        // ============================================
        // EQUIPOS
        // ============================================
        function guardarEquipo(e) {
            e.preventDefault();
            
            const nuevo = {
                id: Date.now(),
                nombre: document.getElementById('nombre-equipo').value,
                codigo: document.getElementById('codigo-equipo').value,
                ubicacion: document.getElementById('ubicacion-equipo').value,
                frecuenciaMantenimiento: document.getElementById('frecuencia-mantenimiento').value,
                fechaUltimo: document.getElementById('fecha-ultimo-mantenimiento').value,
                observaciones: document.getElementById('observaciones-equipo').value
            };

            equipos.push(nuevo);
            guardarEnStorage();
            document.getElementById('form-equipo').reset();
            renderizarEquipos();
            actualizarSelectEquipos();
            actualizarEstadisticas();
            alert('‚úÖ Equipo guardado');
        }

        function renderizarEquipos() {
            const contenedor = document.getElementById('tabla-equipos');
            
            if (equipos.length === 0) {
                contenedor.innerHTML = '<div class="empty-state"><div class="icon">‚öôÔ∏è</div><p>No hay equipos registrados</p></div>';
                return;
            }

            let html = '<table><thead><tr><th>Nombre</th><th>C√≥digo/Serie</th><th>Ubicaci√≥n</th><th>Frecuencia Mtto</th><th>√öltimo Mtto</th><th>Acciones</th></tr></thead><tbody>';
            
            equipos.forEach(e => {
                html += `<tr>
                    <td>${e.nombre}</td>
                    <td>${e.codigo || 'N/A'}</td>
                    <td><span class="badge badge-info">${e.ubicacion}</span></td>
                    <td><span class="badge badge-warning">${e.frecuenciaMantenimiento}</span></td>
                    <td>${e.fechaUltimo ? new Date(e.fechaUltimo).toLocaleDateString('es-CO') : 'N/A'}</td>
                    <td><button class="btn-delete" onclick="eliminarEquipo(${e.id})">üóëÔ∏è</button></td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            contenedor.innerHTML = html;
        }

        function eliminarEquipo(id) {
            if (!confirm('¬øEliminar este equipo?')) return;
            equipos = equipos.filter(e => e.id !== id);
            guardarEnStorage();
            renderizarEquipos();
            actualizarSelectEquipos();
            actualizarEstadisticas();
        }

        function actualizarSelectEquipos() {
            const select = document.getElementById('equipo-mantenimiento');
            select.innerHTML = '<option value="">Seleccionar equipo</option>';
            equipos.forEach(e => {
                select.innerHTML += `<option value="${e.id}">${e.nombre} - ${e.ubicacion}</option>`;
            });
        }

        // ============================================
        // MANTENIMIENTOS
        // ============================================
        function guardarMantenimiento(e) {
            e.preventDefault();
            
            const equipoId = parseInt(document.getElementById('equipo-mantenimiento').value);
            const equipo = equipos.find(e => e.id === equipoId);
            
            if (!equipo) {
                alert('‚ö†Ô∏è Selecciona un equipo v√°lido');
                return;
            }

            const nuevo = {
                id: Date.now(),
                equipoId: equipoId,
                equipoNombre: equipo.nombre,
                fecha: document.getElementById('fecha-mantenimiento').value,
                tipo: document.getElementById('tipo-mantenimiento').value,
                ejecutor: document.getElementById('ejecutor-mantenimiento').value,
                actividades: document.getElementById('actividades-mantenimiento').value
            };

            mantenimientos.push(nuevo);
            
            // Actualizar fecha √∫ltimo mantenimiento del equipo
            equipo.fechaUltimo = nuevo.fecha;
            
            guardarEnStorage();
            document.getElementById('form-registro-mantenimiento').reset();
            renderizarMantenimientos();
            renderizarEquipos();
            actualizarEstadisticas();
            alert('‚úÖ Mantenimiento registrado');
        }

        function renderizarMantenimientos() {
            const contenedor = document.getElementById('tabla-mantenimientos');
            
            if (mantenimientos.length === 0) {
                contenedor.innerHTML = '<div class="empty-state"><div class="icon">üîß</div><p>No hay mantenimientos registrados</p></div>';
                return;
            }

            const ordenados = [...mantenimientos].sort((a, b) => new Date(b.fecha) - new Date(a.fecha));

            let html = '<table><thead><tr><th>Fecha</th><th>Equipo</th><th>Tipo</th><th>Ejecutor</th><th>Actividades</th><th>Acciones</th></tr></thead><tbody>';
            
            ordenados.forEach(m => {
                html += `<tr>
                    <td>${new Date(m.fecha).toLocaleDateString('es-CO')}</td>
                    <td>${m.equipoNombre}</td>
                    <td><span class="badge badge-${m.tipo === 'Preventivo' ? 'success' : 'warning'}">${m.tipo}</span></td>
                    <td>${m.ejecutor}</td>
                    <td>${m.actividades.substring(0, 50)}...</td>
                    <td><button class="btn-delete" onclick="eliminarMantenimiento(${m.id})">üóëÔ∏è</button></td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            contenedor.innerHTML = html;
        }

        function eliminarMantenimiento(id) {
            if (!confirm('¬øEliminar este mantenimiento?')) return;
            mantenimientos = mantenimientos.filter(m => m.id !== id);
            guardarEnStorage();
            renderizarMantenimientos();
            actualizarEstadisticas();
        }

        // ============================================
        // FUMIGACIONES
        // ============================================
        function guardarFumigacion(e) {
            e.preventDefault();
            
            const nuevo = {
                id: Date.now(),
                fecha: document.getElementById('fecha-fumigacion').value,
                tipoPlaga: document.getElementById('tipo-plaga').value,
                tecnico: document.getElementById('tecnico-fumigacion').value,
                producto: document.getElementById('producto-fumigacion').value,
                certificado: document.getElementById('certificado-fumigacion').value,
                observaciones: document.getElementById('observaciones-fumigacion').value
            };

            fumigaciones.push(nuevo);
            guardarEnStorage();
            document.getElementById('form-fumigacion').reset();
            renderizarFumigaciones();
            actualizarEstadisticas();
            alert('‚úÖ Fumigaci√≥n registrada');
        }

        function renderizarFumigaciones() {
            const contenedor = document.getElementById('tabla-fumigaciones');
            
            if (fumigaciones.length === 0) {
                contenedor.innerHTML = '<div class="empty-state"><div class="icon">ü¶ü</div><p>No hay fumigaciones registradas</p></div>';
                return;
            }

            const ordenadas = [...fumigaciones].sort((a, b) => new Date(b.fecha) - new Date(a.fecha));

            let html = '<table><thead><tr><th>Fecha</th><th>Tipo Plaga</th><th>T√©cnico</th><th>Producto</th><th>Certificado</th><th>Acciones</th></tr></thead><tbody>';
            
            ordenadas.forEach(f => {
                html += `<tr>
                    <td>${new Date(f.fecha).toLocaleDateString('es-CO')}</td>
                    <td><span class="badge badge-danger">${f.tipoPlaga}</span></td>
                    <td>${f.tecnico}</td>
                    <td>${f.producto || 'N/A'}</td>
                    <td>${f.certificado || 'N/A'}</td>
                    <td><button class="btn-delete" onclick="eliminarFumigacion(${f.id})">üóëÔ∏è</button></td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            contenedor.innerHTML = html;
        }

        function eliminarFumigacion(id) {
            if (!confirm('¬øEliminar esta fumigaci√≥n?')) return;
            fumigaciones = fumigaciones.filter(f => f.id !== id);
            guardarEnStorage();
            renderizarFumigaciones();
            actualizarEstadisticas();
        }

        // ============================================
        // RESIDUOS
        // ============================================
        function guardarResiduos(e) {
            e.preventDefault();
            
            const nuevo = {
                id: Date.now(),
                fecha: document.getElementById('fecha-residuos').value,
                tipo: document.getElementById('tipo-residuo').value,
                cantidad: parseFloat(document.getElementById('cantidad-residuos').value),
                responsable: document.getElementById('responsable-residuos').value,
                observaciones: document.getElementById('observaciones-residuos').value
            };

            residuos.push(nuevo);
            guardarEnStorage();
            document.getElementById('form-residuos').reset();
            renderizarResiduos();
            actualizarEstadisticas();
            alert('‚úÖ Registro de residuos guardado');
        }

        function renderizarResiduos() {
            const contenedor = document.getElementById('tabla-residuos');
            
            if (residuos.length === 0) {
                contenedor.innerHTML = '<div class="empty-state"><div class="icon">‚ôªÔ∏è</div><p>No hay registros de residuos</p></div>';
                return;
            }

            const ordenados = [...residuos].sort((a, b) => new Date(b.fecha) - new Date(a.fecha));

            let html = '<table><thead><tr><th>Fecha</th><th>Tipo</th><th>Cantidad (kg)</th><th>Responsable</th><th>Observaciones</th><th>Acciones</th></tr></thead><tbody>';
            
            ordenados.forEach(r => {
                const badgeClass = r.tipo === 'Org√°nicos' ? 'success' : r.tipo === 'Reciclables' ? 'info' : 'danger';
                html += `<tr>
                    <td>${new Date(r.fecha).toLocaleDateString('es-CO')}</td>
                    <td><span class="badge badge-${badgeClass}">${r.tipo}</span></td>
                    <td>${r.cantidad} kg</td>
                    <td>${r.responsable}</td>
                    <td>${r.observaciones || 'N/A'}</td>
                    <td><button class="btn-delete" onclick="eliminarResiduo(${r.id})">üóëÔ∏è</button></td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            contenedor.innerHTML = html;
        }

        function eliminarResiduo(id) {
            if (!confirm('¬øEliminar este registro?')) return;
            residuos = residuos.filter(r => r.id !== id);
            guardarEnStorage();
            renderizarResiduos();
            actualizarEstadisticas();
        }

        // ============================================
        // CAPACITACIONES
        // ============================================
        function guardarCapacitacion(e) {
            e.preventDefault();
            
            const asistentesTexto = document.getElementById('asistentes-capacitacion').value;
            const asistentesArray = asistentesTexto.split(',').map(a => a.trim()).filter(a => a);

            const nuevo = {
                id: Date.now(),
                fecha: document.getElementById('fecha-capacitacion').value,
                tema: document.getElementById('tema-capacitacion').value,
                capacitador: document.getElementById('capacitador').value,
                duracion: parseFloat(document.getElementById('duracion-capacitacion').value) || 0,
                asistentes: asistentesArray,
                observaciones: document.getElementById('observaciones-capacitacion').value
            };

            capacitaciones.push(nuevo);
            guardarEnStorage();
            document.getElementById('form-capacitacion').reset();
            renderizarCapacitaciones();
            actualizarEstadisticas();
            alert('‚úÖ Capacitaci√≥n registrada');
        }

        function renderizarCapacitaciones() {
            const contenedor = document.getElementById('tabla-capacitaciones');
            
            if (capacitaciones.length === 0) {
                contenedor.innerHTML = '<div class="empty-state"><div class="icon">üë•</div><p>No hay capacitaciones registradas</p></div>';
                return;
            }

            const ordenadas = [...capacitaciones].sort((a, b) => new Date(b.fecha) - new Date(a.fecha));

            let html = '<table><thead><tr><th>Fecha</th><th>Tema</th><th>Capacitador</th><th>Duraci√≥n</th><th>Asistentes</th><th>Acciones</th></tr></thead><tbody>';
            
            ordenadas.forEach(c => {
                html += `<tr>
                    <td>${new Date(c.fecha).toLocaleDateString('es-CO')}</td>
                    <td>${c.tema}</td>
                    <td>${c.capacitador}</td>
                    <td>${c.duracion} h</td>
                    <td>${c.asistentes.length} personas</td>
                    <td><button class="btn-delete" onclick="eliminarCapacitacion(${c.id})">üóëÔ∏è</button></td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            contenedor.innerHTML = html;
        }

        function eliminarCapacitacion(id) {
            if (!confirm('¬øEliminar esta capacitaci√≥n?')) return;
            capacitaciones = capacitaciones.filter(c => c.id !== id);
            guardarEnStorage();
            renderizarCapacitaciones();
            actualizarEstadisticas();
        }

        // ============================================
        // ESTAD√çSTICAS
        // ============================================
        function actualizarEstadisticas() {
            document.getElementById('stat-productos-quimicos').textContent = productosQuimicos.length;
            document.getElementById('stat-cronogramas').textContent = cronogramasLimpieza.length;
            document.getElementById('stat-equipos').textContent = equipos.length;
            
            const hoy = new Date();
            const inicioMes = new Date(hoy.getFullYear(), hoy.getMonth(), 1);
            const mantenimientosMes = mantenimientos.filter(m => new Date(m.fecha) >= inicioMes);
            document.getElementById('stat-mantenimientos').textContent = mantenimientosMes.length;
            
            document.getElementById('stat-fumigaciones').textContent = fumigaciones.length;
            
            if (fumigaciones.length > 0) {
                const ultima = fumigaciones.sort((a, b) => new Date(b.fecha) - new Date(a.fecha))[0];
                const fechaUltima = new Date(ultima.fecha);
                fechaUltima.setMonth(fechaUltima.getMonth() + 1);
                document.getElementById('stat-proxima-fumigacion').textContent = fechaUltima.toLocaleDateString('es-CO');
            }
            
            document.getElementById('stat-capacitaciones').textContent = capacitaciones.length;
            
            const personalUnico = new Set();
            capacitaciones.forEach(c => {
                c.asistentes.forEach(a => personalUnico.add(a));
            });
            document.getElementById('stat-personal-capacitado').textContent = personalUnico.size;
            
            // Resumen tab registros
            document.getElementById('resumen-productos').textContent = productosQuimicos.length;
            document.getElementById('resumen-cronogramas').textContent = cronogramasLimpieza.length;
            document.getElementById('resumen-equipos').textContent = equipos.length;
            document.getElementById('resumen-mantenimientos').textContent = mantenimientos.length;
            document.getElementById('resumen-fumigaciones').textContent = fumigaciones.length;
            document.getElementById('resumen-residuos').textContent = residuos.length;
            document.getElementById('resumen-capacitaciones').textContent = capacitaciones.length;
        }

        function renderizarTodo() {
            renderizarProductosQuimicos();
            renderizarCronogramas();
            renderizarEquipos();
            renderizarMantenimientos();
            renderizarFumigaciones();
            renderizarResiduos();
            renderizarCapacitaciones();
            actualizarSelectEquipos();
        }

        // ============================================
        // EXPORTACIONES
        // ============================================
        function exportarProductosQuimicos() {
            if (productosQuimicos.length === 0) {
                alert('‚ö†Ô∏è No hay datos para exportar');
                return;
            }
            let csv = 'Nombre,Tipo,Concentraci√≥n,Tiempo Contacto,Proveedor,Observaciones\n';
            productosQuimicos.forEach(p => {
                csv += `"${p.nombre}","${p.tipo}","${p.concentracion}","${p.tiempoContacto}","${p.proveedor}","${p.observaciones || ''}"\n`;
            });
            descargarCSV(csv, 'productos_quimicos.csv');
        }

        function exportarCronograma() {
            if (cronogramasLimpieza.length === 0) {
                alert('‚ö†Ô∏è No hay datos para exportar');
                return;
            }
            let csv = '√Årea,Superficie/Equipo,Frecuencia,Responsable,Hora\n';
            cronogramasLimpieza.forEach(c => {
                csv += `"${c.area}","${c.superficie}","${c.frecuencia}","${c.responsable}","${c.hora || ''}"\n`;
            });
            descargarCSV(csv, 'cronograma_limpieza.csv');
        }

        function exportarEquipos() {
            if (equipos.length === 0) {
                alert('‚ö†Ô∏è No hay datos para exportar');
                return;
            }
            let csv = 'Nombre,C√≥digo/Serie,Ubicaci√≥n,Frecuencia Mantenimiento,√öltimo Mantenimiento,Observaciones\n';
            equipos.forEach(e => {
                csv += `"${e.nombre}","${e.codigo}","${e.ubicacion}","${e.frecuenciaMantenimiento}","${e.fechaUltimo || ''}","${e.observaciones || ''}"\n`;
            });
            descargarCSV(csv, 'equipos.csv');
        }

        function exportarMantenimientos() {
            if (mantenimientos.length === 0) {
                alert('‚ö†Ô∏è No hay datos para exportar');
                return;
            }
            let csv = 'Fecha,Equipo,Tipo,Ejecutor,Actividades\n';
            mantenimientos.forEach(m => {
                csv += `"${m.fecha}","${m.equipoNombre}","${m.tipo}","${m.ejecutor}","${m.actividades}"\n`;
            });
            descargarCSV(csv, 'mantenimientos.csv');
        }

        function exportarFumigaciones() {
            if (fumigaciones.length === 0) {
                alert('‚ö†Ô∏è No hay datos para exportar');
                return;
            }
            let csv = 'Fecha,Tipo Plaga,T√©cnico,Producto,Certificado,Observaciones\n';
            fumigaciones.forEach(f => {
                csv += `"${f.fecha}","${f.tipoPlaga}","${f.tecnico}","${f.producto}","${f.certificado}","${f.observaciones || ''}"\n`;
            });
            descargarCSV(csv, 'fumigaciones.csv');
        }

        function exportarResiduos() {
            if (residuos.length === 0) {
                alert('‚ö†Ô∏è No hay datos para exportar');
                return;
            }
            let csv = 'Fecha,Tipo,Cantidad (kg),Responsable,Observaciones\n';
            residuos.forEach(r => {
                csv += `"${r.fecha}","${r.tipo}","${r.cantidad}","${r.responsable}","${r.observaciones || ''}"\n`;
            });
            descargarCSV(csv, 'residuos.csv');
        }

        function exportarCapacitaciones() {
            if (capacitaciones.length === 0) {
                alert('‚ö†Ô∏è No hay datos para exportar');
                return;
            }
            let csv = 'Fecha,Tema,Capacitador,Duraci√≥n (h),Asistentes,Observaciones\n';
            capacitaciones.forEach(c => {
                csv += `"${c.fecha}","${c.tema}","${c.capacitador}","${c.duracion}","${c.asistentes.join('; ')}","${c.observaciones || ''}"\n`;
            });
            descargarCSV(csv, 'capacitaciones.csv');
        }

        function exportarTodoCompleto() {
            let csv = '=== SISTEMA DE SANEAMIENTO Y MANTENIMIENTO - EL RINC√ìN DEL BARRIL ===\n';
            csv += 'Fecha Exportaci√≥n: ' + new Date().toLocaleString('es-CO') + '\n\n';
            
            csv += '=== PRODUCTOS QU√çMICOS ===\n';
            csv += 'Nombre,Tipo,Concentraci√≥n,Tiempo Contacto,Proveedor\n';
            productosQuimicos.forEach(p => {
                csv += `"${p.nombre}","${p.tipo}","${p.concentracion}","${p.tiempoContacto}","${p.proveedor}"\n`;
            });
            
            csv += '\n=== CRONOGRAMA DE LIMPIEZA ===\n';
            csv += '√Årea,Superficie/Equipo,Frecuencia,Responsable,Hora\n';
            cronogramasLimpieza.forEach(c => {
                csv += `"${c.area}","${c.superficie}","${c.frecuencia}","${c.responsable}","${c.hora || ''}"\n`;
            });
            
            csv += '\n=== EQUIPOS ===\n';
            csv += 'Nombre,C√≥digo/Serie,Ubicaci√≥n,Frecuencia Mantenimiento,√öltimo Mantenimiento\n';
            equipos.forEach(e => {
                csv += `"${e.nombre}","${e.codigo}","${e.ubicacion}","${e.frecuenciaMantenimiento}","${e.fechaUltimo || ''}"\n`;
            });
            
            csv += '\n=== MANTENIMIENTOS ===\n';
            csv += 'Fecha,Equipo,Tipo,Ejecutor,Actividades\n';
            mantenimientos.forEach(m => {
                csv += `"${m.fecha}","${m.equipoNombre}","${m.tipo}","${m.ejecutor}","${m.actividades}"\n`;
            });
            
            csv += '\n=== FUMIGACIONES ===\n';
            csv += 'Fecha,Tipo Plaga,T√©cnico,Producto,Certificado\n';
            fumigaciones.forEach(f => {
                csv += `"${f.fecha}","${f.tipoPlaga}","${f.tecnico}","${f.producto}","${f.certificado}"\n`;
            });
            
            csv += '\n=== RESIDUOS ===\n';
            csv += 'Fecha,Tipo,Cantidad (kg),Responsable\n';
            residuos.forEach(r => {
                csv += `"${r.fecha}","${r.tipo}","${r.cantidad}","${r.responsable}"\n`;
            });
            
            csv += '\n=== CAPACITACIONES ===\n';
            csv += 'Fecha,Tema,Capacitador,Duraci√≥n (h),Asistentes\n';
            capacitaciones.forEach(c => {
                csv += `"${c.fecha}","${c.tema}","${c.capacitador}","${c.duracion}","${c.asistentes.join('; ')}"\n`;
            });
            
            descargarCSV(csv, 'saneamiento_completo.csv');
        }

        function descargarCSV(contenido, nombreArchivo) {
            const blob = new Blob([contenido], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', nombreArchivo);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html>
